@page
@model CaveroClubhuis.Pages.AdminDeleteModel
@{
    var DialogButtons1 = new ButtonModel() { isPrimary = true, cssClass = "confirm-button", content = "Bevestig" };
    var DialogButtons2 = new ButtonModel() { content = "Annuleer", cssClass = "e-flat" };
}
@if (TempData["ErrorMessage"] != null)
{
    <div class="alert alert-danger">
        @TempData["ErrorMessage"]
    </div>
}
<style>
    .confirm-button {
        background-color:  #803689 !important;
        border-color: #803689 !important;
        color: white !important;
    }


    .e-dialog {
        position: center;
    }
  

    .e-dialog .e-dlg-header {
        font-size: 20px;
        font-weight: normal;
        position: relative;
    }

    .e-dialog .e-dlg-content {
        display: flex;
        flex-direction: column;
        min-height: 200px;
        overflow: auto;
    }

    .e-dialog .e-dlg-content {
        overflow-y: auto;
    }

 
    /* conatiner event aanpassen */
    #selectedEvent {
        width:400px ;
        padding: 8px;
        border: 1px solid #ccc;
        border-radius: 4px;
      
    }

</style>
<div class="text-center">
    <div id='container' style="height:400px;">
        <ejs-button id="targetButton" content="Open Dialog"></ejs-button>
     <ejs-dialog id="dialog" header="Verwijder evenement" visible="false" showCloseIcon="true" target="#container" width="500px">
                <e-content-template>

        <form id="delete" method="post" asp-page-handler="Delete">
            <div>
                <label for="selectedEvents">Selecteer een of meerdere evenementen om te verwijderen</label>
            </div>
            <div>
                        <select id="selectedEvent" asp-for="SelectedEvents">
                            <option value="">-- Selecteer een evenement --</option>
                            @foreach (var eventItem in Model.EventsNames)
                            {
                                <option value="@eventItem.Id">@eventItem.Title</option>
                            }
                        </select>
            </div>
           
                        
           
                    <ejs-dialog id="dialog2" header="Bevestig verwijdering evenementen" visible="false" target="#container" showCloseIcon="true" content="Weet je zeker dat je de gekozen evenementen wilt verwijderen?"width="500px">
                        <e-dialog-buttons>
                            <e-dialog-dialogbutton buttonModel="DialogButtons1"  click="submitForm"></e-dialog-dialogbutton>
                            <e-dialog-dialogbutton buttonModel="DialogButtons2" click="showDialog1"></e-dialog-dialogbutton>
                        </e-dialog-buttons>
                    </ejs-dialog>

        </form>
        </e-content-template>
            <e-dialog-buttons>
                <e-dialog-dialogbutton buttonModel="DialogButtons1" click="showDialog2"></e-dialog-dialogbutton>
            </e-dialog-buttons>
        </ejs-dialog>
   
   
        </div>

    



    <script>
        window.onload = function () {
            var dialog = document.getElementById("dialog").ej2_instances[0];

            document.getElementById('targetButton').onclick = function () {
                // Set the dialog target to the button and position it above
                dialog.target = '#targetButton';
                dialog.position = { X: 'center', Y: 'top' };
                dialog.show();
            };

            window.onresize = function () {
                // Ensure the dialog is repositioned when the window is resized
                dialog.refreshPosition();
            };
        };

        function showDialog2() {
            var dialog = document.getElementById('dialog').ej2_instances[0];
            dialog.hide();  // Hide the first dialog
            var dialog2 = document.getElementById('dialog2').ej2_instances[0];
            dialog2.position = dialog.position;
            dialog2.show(); // Show the second dialog
        }
        function submitForm() {
            // Perform any additional actions you need before submitting the form
            document.getElementById('delete').submit();
        }

        function showDialog1()
        {
            var dialog2 = document.getElementById('dialog2').ej2_instances[0];
            dialog2.hide();  // Hide the first dialog
            var dialog = document.getElementById('dialog').ej2_instances[0];
            dialog.position = dialog2.position;
            dialog.show(); // Show the second dialog
        }

    </script>

</div>
   